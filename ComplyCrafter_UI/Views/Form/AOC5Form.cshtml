<style>
    .textheader a {
        color: blue;
        text-decoration: none !important;
    }

    .textheader:hover a {
        color: red !important;
        cursor: pointer;
    }

    input {
        box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05) !important;
    }

</style>

<div class="row m-auto" id="frm">
    <div class="card " style="flex-direction:row;">
        <div class=" col-lg-12">
            <div class="card-header ">
                <h3>
                    Form No. AOC-5
                </h3>
            </div>
            <div class="card-body" style="padding:0px 25px;">
                <p>
                    Notice of address at which books of account are to be maintained
                    [Pursuant to first proviso to sub-section (1) of section 128 of the Companies Act, 2013 and Rule 2A of Companies(Accounts) Rules, 2014]
                </p>
            </div>
            <div class="textheader my-4 mx-3">
                <a href="https://www.mca.gov.in/content/dam/mca-aem-forms/instructionkits/Instruction%20Kit_AOC-5.pdf" target="_blank">
                    Refer instruction kit for filing the form
                </a>
            </div>
        </div>

    </div>

    <div class="content-wrapper">
        <div class="container-fluid">
            <main role="main" class="pb-3">
                <div class="row">
                    <div class="card">
                        <div class="card-header d-flex justify-content-between" style="padding: 15px 30px 10px;">
                            <ul class="nav nav-pills nav-fill p-1 bg-transparent" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link mb-0 px-4 py-1 active " href="javascript:;" role="part1" data-bs-toggle="tab">
                                        <span class="ms-1">
                                            Entity Details
                                        </span>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link mb-0 px-4 py-1 " href="javascript:;" role="part2" data-bs-toggle="tab">
                                        <span class="ms-1">
                                            Dsc details and Attachments
                                        </span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>


   
    <div id="part1" class="p-0">
        <input type="hidden" class="num" value="0" name="id" />
        <input type="hidden" class="num" value="0" name="companyId" />
        <div class="card" style=" padding:20px;">
            <div class="row">
                <div class="d-flex justify-content-between mx-2 mb-2">
                    <p class="card-title mb-0" style="margin-top:1px; border-bottom:1px solid black;">
                        Company Details
                    </p>
                </div>

                <div class="col-md-6 my-2">
                    <label class="form-label">1. (a)*Corporate Identity Number(CIN)</label>
                    <input type="text" placeholder="" class="form-control" value="" name="cin" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);" disabled>
                    <div class="invalid-feedback"></div>
                </div>
                <div class="col-md-6 my-2">
                    <label class="form-label">2. (a) *Name of the Company</label>
                    <input type="text" placeholder="" class="form-control" value="" name="companyName" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);" disabled>
                    <div class="invalid-feedback"></div>
                </div>

                <div class="col-lg-12 my-2">
                    <label class="form-label">(b) *Registered office address</label>
                    <input type="text" placeholder="SHOP NO 3 VERTEX VIKAS CHS LTD   WING A SIR M V RD BHD POLICE STN ANDHERI, MUMBAI, Mumbai City, Maharashtra, India, 400069" class="form-control" value="" name="companyAddress" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);" disabled>
                    <div class="invalid-feedback"></div>
                </div>

                <div class="col-md-12 my-2">
                    <label class="form-label">3. *Date of board resolution wherein a decision regarding address at which books of account are to be maintained has been taken (DD/MM/YYYY)</label>
                    <input type="date" placeholder="" class="form-control" value="" name="decisionDate" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);" >
                    <div class="invalid-feedback"></div>
                </div>


                <div class="col-xs-12 col-sm-12 col-md-12 bold mt-12" style="margin: 13px -12px; text-decoration:underline;">
                    4 Address at which the books of account are to be maintained

                </div>

                <div class="col-md-4 my-2">
                    <label class="form-label">*Address Line 1</label>
                    <input type="text" placeholder="" class="form-control" value="" name="lineAddress1" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>
                <div class="col-md-4 my-2">
                    <label class="form-label">Address Line 2</label>
                    <input type="text" placeholder="" class="form-control" value="" name="lineAddress2" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>
                <div class="col-md-4 my-2">
                    <label class="form-label">
                        *Longitude
                    </label>
                    <input type="text" placeholder="" class="form-control" value="" name="longitude" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>

                <div class="col-md-4 my-2">
                    <label class="form-label">*Latitude</label>
                    <input type="text" placeholder="" class="form-control" value="" name="latitude" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>
                <div class="col-md-4 my-2">
                    <label class="form-label">*Country</label>
                    <input disabled type="text" placeholder="" class="form-control" value="India" name="country" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>
                <div class="col-md-4 my-2">
                    <label class="form-label">
                        *Pin Code/Zip code
                    </label>
                    <input type="text" placeholder="" class="form-control" value="" name="pinCode" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>


                <div class="col-md-4 my-2">
                    <label class="form-label">*Area / Locality</label>
                    <select name="localityArea" id="AREA" class="form-select" required="">
                        <option value="">Select Locality</option>
                    </select>
                </div>
                <div class="col-md-4 my-2">
                    <label class="form-label">*City</label>
                    <input  type="text" placeholder="" class="form-control" value="" name="city" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>
                <div class="col-md-4 my-2">
                    <label class="form-label">
                        *District
                    </label>
                    <input type="text" placeholder="" class="form-control" value="" name="district" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>
                <div class="col-md-12 my-2">
                    <label class="form-label">
                        *State/UT
                    </label>
                    <input type="text" placeholder="" class="form-control" value="" name="utState" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>

                <div class="col-xs-12 col-sm-12 col-md-12 bold mt-12" style="margin: 13px -12px; text-decoration:underline;">
                    5. Details pertaining to police station under whose jurisdiction the place of the address at which the books of account are to be maintained falls

                </div>
                <div class="col-md-12 my-2">
                    <label class="form-label">Police station name</label>
                    <input type="text" placeholder="" class="form-control" value="" name="policeStationName" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>

                <div class="col-md-4 my-2">
                    <label class="form-label">*Address Line 1</label>
                    <input type="text" placeholder="" class="form-control" value="" name="lineAddress3" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>
                <div class="col-md-4 my-2">
                    <label class="form-label">Address Line 2</label>
                    <input type="text" placeholder="" class="form-control" value="" name="lineAddress4" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>
             

                <div class="col-md-4 my-2">
                    <label class="form-label">*Country</label>
                    <input disabled type="text" placeholder="" class="form-control" value="India" name="country2" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>
                <div class="col-md-4 my-2">
                    <label class="form-label">
                        *Pin Code/Zip code
                    </label>
                    <input type="text" placeholder="" class="form-control" value="" name="pinCode2" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>

                <div class="col-md-4 my-2">
                    <label class="form-label">*Area / Locality</label>
                    <select name="localityArea2" id="AREA" class="form-select" required="">
                        <option value="">Select Locality</option>
                    </select>
                </div>
                <div class="col-md-4 my-2">
                    <label class="form-label">*City</label>
                    <input type="text" placeholder="" class="form-control" value="" name="city2" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>
                <div class="col-md-4 my-2">
                    <label class="form-label">
                        *District
                    </label>
                    <input type="text" placeholder="" class="form-control" value="" name="district2" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>
                <div class="col-md-4 my-2">
                    <label class="form-label">
                        *State/UT
                    </label>
                    <input type="text" placeholder="" class="form-control" value="" name="utState2" style="box-shadow: 0 0 11px 1px rgba(0, 0, 0, .05);">
                    <div class="invalid-feedback"></div>
                </div>
          </div>
        </div>
    </div>


    <div id="part2" class="p-0">
        <div class="card" style="padding:20px;">
            <form action="" role="form" id="fupForm1" method="post" accept-charset="utf-8" enctype="multipart/form-data">
                <label style="font-weight:bolder;text-decoration: underline;margin-left: -10px;text-transform: uppercase;">Attachments</label>
                <div class="row">
                    <div class="col-xs-12 col-sm-6 col-md-6 bold form-row mt-3">
                        (a) *Proof of address (Conveyance/Lease deed/ Rent Agreement etc. along with the rent receipts) along with standard NOC in case of Leased or rented property
                    </div>
                    <div class="col-xs-12 col-sm-3 col-md-3 form-row mt-3">
                        <input type="file" name="addressProof" id="addressproof" required="">
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12 col-sm-6 col-md-6 bold form-row mt-3">
                        (b) *Copies of the utility bills (not older than two months)
                    </div>
                    <div class="col-xs-12 col-sm-3 col-md-3 form-row mt-3 ">
                        <input type="file" name="billsCopy" id="billscopy" required="">
                    </div>
                </div>
                <div class="row mt-3" style="height: auto;">
                    <div class="col-xs-12 col-sm-6 col-md-6 bold form-row" style="height: 70px;">
                        (c) *Photograph of registered office showing external building and second will be inside office also showing therein at least one director / KMP who has affixed his/her digital signature to this form
                    </div>
                    <div class="col-xs-12 col-sm-3 col-md-3 form-row mt-3" style="height: 70px;">
                        <input type="file" name="registerOfficePhoto" id="registerofficephoto" required="">
                    </div>
                </div>
                <div class="row mt-3" style="height: auto;">
                    <div class="col-xs-12 col-sm-6 col-md-6 bold form-row">
                        (d) Optional attachment(s), if any
                    </div>
                    <div class="col-xs-12 col-sm-3 col-md-3 form-row mt-3">
                        <input type="file" name="attachmentFile" id="attachment_file">
                    </div>
                </div>

                <label style="font-weight:bolder;text-decoration: underline;margin-left: -10px;text-transform: uppercase;" class="mt-3">DECLARATION</label>
                <div class="row mt-3" style="height: auto;">
                    <div class="col-xs-12 col-sm-12 col-md-12 form-row" style="height: auto;">
                        <p style="text-align: justify;">I am authorised by the Board of Directors of the Company vide resolution no <input type="text" style="width: 10%;" id="COMP_VIDE_RES_NO" name="compVideResolution" autocomplete="off" value="" placeholder="Resolution Number" required=""> dated (DD/MM/YYYY) <input type="date" style="width: 15%;" id="DATE_DECLARATION" name="dateDelcaration" autocomplete="off" class="datepicker hasDatepicker" placeholder="Resolution Date" value="" onchange="checkForm(this); return false;" required=""> to sign this form and declare that all the requirements of Companies Act, 2013 and the rules made there under in respect of the subject matter of this form and matters incidental thereto have been complied with.</p>
                        <p style="text-align: justify;">I also declare that all the information given herein above is true, correct and complete including the attachments to this form and nothing material has been suppressed.</p>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-xs-12 col-sm-3 col-md-3 bold form-row">
                        *Designation
                    </div>
                    <div class="col-xs-12 col-sm-3 col-md-3 form-row">
                        <select name="designation" id="DESIGNATION" class="form-select" required="">
                            <option value="">Select Designation</option>
                            <option value="Director">Director</option>
                            <option value="Manager">Manager</option>
                            <option value="Company Secretary">Company Secretary</option>
                            <option value="CEO">CEO</option>
                            <option value="CFO">CFO</option>
                        </select>
                    </div>
                    <div class="col-xs-12 col-sm-3 col-md-3 bold form-row mt-3">
                        Signatory
                    </div>
                    <div class="col-xs-12 col-sm-3 col-md-3 form-row" id="change_designation">
                        <input type="text" name="signatory" id="DIN_PAN_MEM_NUM" class="form-control" value="" required="">
                        <select name="signatory" id="drpDirector" class="form-select" required="">
                            <option value="">Select Director</option>
                            
                        </select>
                        <select name="signatory" id="drpManager" class="form-select" required="">
                            <option value="">Select Manager</option>
                           
                        </select>
                        <select name="signatory" id="drpCeo" class="form-select" required="">
                            <option value="">Select CEO</option>
                           
                        </select>
                        <select name="signatory" id="drpCfo" class="form-select" required="">
                            <option value="">Select CFO</option>
                            
                        </select>
                    </div>
                </div>
            </form>
        </div>
    </div>


    <div class="col-m-12 mt-3">
        <button class="btn btn-md btn-primary" style="float: right;" onclick="save(event)">
            Submit
        </button>
    </div>
</div>

@section Scripts {
    <script>

        var frm = {
            id: 0,
            companyId: 0,

            cin: "",
            companyName: "",
            companyAddress: "",
            // companyEmail: "",

            // part-1
            decisionDate:"",
            lineAddress1:"",
            lineAddress2:"",
            longitude:"",
            latitude:"",
            country:"",
            pinCode:"",
            localityArea:"",
            city:"",
            district:"",
            utState:"",
            policeStationName: "",
            lineAddress3:"",
            lineAddress4:"",
            country2:"",
            pinCode2:"",
            localityArea2:"",
            city2:"",
            district2:"",
            utState2:"",
            // part-2

            addressProof:"",
            billsCopy:"",
            registerOfficePhoto:"",
            attachmentFile:"",
            compVideResolution:"",
            dateDelcaration:"",
            designation:"",
            signatory:"",
        }

        $("#DESIGNATION").change(function () {
            const selectedDesignation = $(this).val();
            $("#drpDirector, #drpManager, #drpCeo, #drpCfo, #DIN_PAN_MEM_NUM").hide();
            if (selectedDesignation === "Director") {
                $("#drpDirector").show();
            } else if (selectedDesignation === "Manager") {
                $("#drpManager").show();
            } else if (selectedDesignation === "CEO") {
                $("#drpCeo").show();
            } else if (selectedDesignation === "CFO") {
                $("#drpCfo").show();
            } else {
                $("#DIN_PAN_MEM_NUM").show();
            }
        });

        $("#DESIGNATION").trigger("change");
        var voFrm = {
            id: 'required',
            companyId: 'required',
        };

        var vfFrm = null;

        $(document  ).ready(function () {
            $("#drpDirector, #drpManager, #drpCeo, #drpCfo").hide();

            $("#part2").hide();
            $("#part3").hide();
            $('a[data-bs-toggle="tab"]').on('shown.bs.tab', function (e) {
                var active = $(e.target).attr('role');
                $("#part1").hide();
                $("#part2").hide();
                $("#part3").hide();
                $("#" + active).show();

            });

            load()
            // vfFrm1 = $('#frm').validate({ rules: voFrm1, onsubmit: () => { console.log('submit') } })
        })

        function save(event) {
            event.preventDefault();
            // let isValid = true;
            // if (!vfFrm1.form()) isValid = false;

            // if (!isValid) return;
            var obj = getObj(frm, '#frm');
            $._post(`@R.ApiUrl/@ViewBag.ctrl`, obj).then(x => {
                console.log(x)
                if (x.status) {
                    window.location = `@Url.Action("AOC5", "Form")`
                } else {
                    swal.fire({
                        icon: 'error',
                        title: 'Error',
                        text: x.message
                    })
                }
            })

        }

        function load() {
            if (@ViewBag.id > 0) {
                $._get(`@R.ApiUrl/@ViewBag.ctrl/${@ViewBag.id}`).then(x => {
                    frm = x
                    setObj(x, "#frm")
                })
            }
            var company = localStorage.getItem("comp_id");
            if (company === null || company === undefined || company === "0") {
                alert("Please select Company")
                window.location = `@Url.Action("AOC5", "Form")`
                return;
            }
            $._get(`@R.ApiUrl/Company/${company} `).then(x => {
                $("[name='companyId']").val(x.id);
                $("[name='cin']").val(x.cin);
                $("[name='companyName']").val(x.companyName);
                $("[name='companyAddress']").val(x.address);
                $("[name='companyEmail']").val(x.email);
            })
        }

    </script>

}