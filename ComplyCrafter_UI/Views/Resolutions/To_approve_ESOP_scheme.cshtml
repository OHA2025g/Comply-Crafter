@{
    ViewData["Title"] = "To approve ESOP scheme Form";
}

<style>
    .custom-table {
        border-collapse: collapse;
        width: 100%;
        margin-bottom: 20px;
        table-layout: fixed;
    }

        .custom-table td, .custom-table th {
            border: 1px solid #ccc;
            padding: 8px;
            vertical-align: middle;
        }

        .custom-table th {
            background: #f8f9fa;
            font-weight: 600;
            text-align: center;
        }

    .form-control, .form-select {
        width: 100%;
        padding: 6px;
        box-sizing: border-box;
    }

    .btn-custom {
        background-color: #2269f5;
        color: #fff;
        border-radius: 6px;
        padding: 6px 16px;
        border: none;
    }

        .btn-custom:hover {
            background-color: #1b56c2;
        }

    .section-heading {
        background: #f8f9fa;
        font-weight: 600;
        text-align: center;
        padding: 6px;
        border: 1px solid #ccc;
        margin-bottom: -1px;
    }
</style>

<div class="card shadow-sm p-4">
    <h4 class="text-primary mb-3">To Approve ESOP Scheme Form</h4>

    <form asp-action="Save" method="post">

        <!-- ====================== MANAGING DIRECTOR & SIGNATORY ====================== -->
        <div class="section-heading">DIRECTOR & SIGNATORY DETAILS</div>
        <div class="p-3 border">
            <div class="row mb-3">
                <div class="col-md-6">
                    <label class="form-label"><strong>Name of the Managing Director</strong></label>
                    <select class="form-select" name="ManagingDirectorName">
                        <option value="">Select Managing Director</option>
                        <option>Director 1</option>
                        <option>Director 2</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label class="form-label"><strong>Name of the Authorized Signatory</strong></label>
                    <select class="form-select" name="AuthorizedSignatory">
                        <option value="">Select Director</option>
                        <option>John Doe</option>
                        <option>Jane Smith</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- ====================== PARTICULARS OF RIGHT ISSUE ====================== -->
        <div class="section-heading">Particulars of Conversion of Loan into Share</div>
        <div class="p-3 border">
            <div class="row mb-3">
                <div class="col-md-6">
                    <label class="form-label fw-bold">Type of Share</label>
                    <select class="form-select" name="TypeOfShare">
                        <option value="">Select Type of Share</option>
                        <option>Equity</option>
                        <option>Preference</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label class="form-label fw-bold">Date of Allotment</label>
                    <input type="date" class="form-control" name="DateOfAllotment" value="@DateTime.Now.ToString("yyyy-MM-dd")" />
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <label class="form-label fw-bold">Premium per Share</label>
                    <input type="number" class="form-control" name="PremiumPerShare" value="0" />
                </div>
                <div class="col-md-6">
                    <label class="form-label fw-bold">Nature of Consideration</label>
                    <select class="form-select" name="NatureofConsideration">
                        <option value="">Nature of Consideratione</option>
                        <option>In Cash</option>
                        <option>Other then Cash </option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label class="form-label fw-bold">Loan Amount</label>
                    <input class="form-select" name="NatureOfConsideration" value="0" />

                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label fw-bold d-block">Are all the shares fully paid?</label>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="FullyPaid" value="Yes" />
                            <label class="form-check-label">Yes</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="FullyPaid" value="No" />
                            <label class="form-check-label">No</label>
                        </div>
                    </div>
                </div>

                <!-- Hidden field initially -->
                <div class="row mb-3" id="amountPaidRow" style="display:none;">
                    <div class="col-md-6">
                        <label class="form-label fw-bold">
                            Amount paid on Allotment per share (including premium)
                        </label>
                        <input type="text" class="form-control" name="AmountPaid" placeholder="Enter amount" />
                    </div>
                </div>

            </div>





            <div id="allotteeContainer"></div>
            <div class="mt-3">
                <button type="button" class="btn btn-primary" id="addAllotteeBtn">Add Allottee(s)</button>
            </div>
        </div>

        <!-- ====================== ALLOTTEE DETAILS TABLE ====================== -->
        <div class="section-heading">ALLOTTEE DETAILS</div>
        <div class="p-3 border">
            <table class="table table-bordered table-striped" style="font-size:15px;">
                <thead class="table-light">
                    <tr>
                        <th style="width:5%; text-align:center; vertical-align: middle;">S. No.</th>
                        <th style="width:20%; text-align:center; vertical-align: middle;">Shareholder Name</th>
                        <th style="text-align:center; vertical-align: middle;">Status</th>
                        <th style="text-align:center; vertical-align: middle;">Category</th>
                        <th style="text-align:center; vertical-align: middle;">Sub Category</th>
                        <th style="text-align:center; vertical-align: middle;">Sub Sub Category</th>
                        <th style="text-align:center; vertical-align: middle;">New Status</th>
                    </tr>
                </thead>
                <tbody id="allotteeTableBody">
                    <!-- Empty for now. Rows will be added dynamically -->
                </tbody>
            </table>

            <!-- Action buttons -->
            <div class="mt-3">
                <button type="button" class="btn btn-primary btn-sm" id="addRowBtn">Add Row</button>
                <button type="button" class="btn btn-danger btn-sm" id="clearTableBtn">Clear All</button>
            </div>
        </div>



        <div class="section-heading">Offer Period and Valuation </div>
        <div class="p-3 border">

            <table class="table table-bordered" style="font-size:15px; width:100%;">
                <tbody>
                    <tr>
                        <td style="width:25%; font-weight:bold;">Opening of offer period</td>
                        <td style="width:25%;">
                            <input type="date" class="form-control" name="OpeningOfferPeriod">
                        </td>
                        <td style="width:25%; font-weight:bold;">Closing of offer period</td>
                        <td style="width:25%;">
                            <input type="date" class="form-control" name="ClosingOfferPeriod">
                        </td>
                    </tr>

                    <tr>
                        <td style="font-weight:bold;">Date of Circulation of offer letter</td>
                        <td>
                            <input type="date" class="form-control" name="CirculationDate">
                        </td>
                        <td style="font-weight:bold;">Place of Circulation of offer letter</td>
                        <td>
                            <input type="text" class="form-control" name="CirculationPlace" placeholder="Enter place">
                        </td>
                    </tr>

                    <tr>
                        <td style="font-weight:bold;">Record Date</td>
                        <td>
                            <input type="date" class="form-control" name="RecordDate">
                        </td>
                        <td></td>
                        <td></td>
                    </tr>
                </tbody>
            </table>
        </div>


        <div class="section-heading">Particulars of Valuation</div>
        <div class="p-3 border">

            <table class="table table-bordered" style="font-size:15px; width:100%;">
                <tbody>
                    <tr>
                        <td style="width:25%; font-weight:bold;">Name of Registered Valuer</td>
                        <td style="width:25%;">
                            <input type="text" class="form-control" name="RegisteredValuer" placeholder="Enter Name">
                        </td>
                        <td style="width:25%; font-weight:bold;">Date of Valuation Report</td>
                        <td style="width:25%;">
                            <input type="date" class="form-control" name="ValuationDate">
                        </td>
                    </tr>

                    <tr>
                        <td style="font-weight:bold;">Relevant date for valuation</td>
                        <td>
                            <input type="date" class="form-control" name="RelevantDate">
                        </td>
                        <td style="font-weight:bold;">Address</td>
                        <td>
                            <input type="text" class="form-control" name="ValuerAddress" placeholder="Enter Address">
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>






        <!-- Board Meeting for proposing -->
        <div class="section-heading">Board Meeting for proposing</div>
        <div class="p-3 border mb-4">

            <div class="row mb-3">
                <div class="col-md-12">
                    <label class="form-label fw-bold">Do you want to incorporate this agenda in existing Board Meeting ?</label><br>
                    <label class="ms-2"><input type="radio" name="boardMeetingIncorporate" value="yes" checked> Yes</label>
                    <label class="ms-2"><input type="radio" name="boardMeetingIncorporate" value="no"> No</label>
                </div>
            </div>

            <!-- If YES -->
            <div id="boardMeetingYes" class="row mb-3">
                <div class="col-md-6">
                    <label class="form-label fw-bold">Select Existing Meeting</label>
                    <select class="form-select">
                        <option>Select Meeting</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label class="form-label fw-bold">Authorized Director</label>
                    <select class="form-select">
                        <option>Select Director</option>
                    </select>
                </div>
            </div>

            <!-- If NO -->
            <div id="boardMeetingNo" class="row mb-3 d-none">
                <div class="col-md-3">
                    <label class="form-label fw-bold">Date of Meeting</label>
                    <input type="date" class="form-control">
                </div>
                <div class="col-md-3">
                    <label class="form-label fw-bold">Time of Meeting</label>
                    <input type="time" class="form-control">
                </div>
                <div class="col-md-3">
                    <label class="form-label fw-bold">Authorized Director</label>
                    <select class="form-select">
                        <option>Select Director</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label fw-bold">Authorized Director</label>
                    <select class="form-select">
                        <option>Select Director</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- General Meeting for approval -->
        <div class="section-heading">General Meeting for approval</div>
        <div class="p-3 border mb-4">

            <div class="row mb-3">
                <div class="col-md-12">
                    <label class="form-label fw-bold">Type of Meeting ?</label><br>
                    <label class="ms-2"><input type="radio" name="generalMeetingType" value="agm" checked> AGM</label>
                    <label class="ms-2"><input type="radio" name="generalMeetingType" value="egm"> EGM</label>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-12">
                    <label class="form-label fw-bold">Do you want to incorporate this agenda in existing General Meeting ?</label><br>
                    <label class="ms-2"><input type="radio" name="generalMeetingIncorporate" value="yes" checked> Yes</label>
                    <label class="ms-2"><input type="radio" name="generalMeetingIncorporate" value="no"> No</label>
                </div>
            </div>

            <!-- If YES -->
            <div id="generalMeetingYes" class="row mb-3">
                <div class="col-md-6">
                    <label class="form-label fw-bold">Select Existing General Meeting</label>
                    <select class="form-select">
                        <option>Select Existing AGM</option>
                    </select>
                </div>
            </div>

            <!-- If NO -->
            <div id="generalMeetingNo" class="row mb-3 d-none">
                <div class="col-md-3">
                    <label class="form-label fw-bold">Date of General Meeting</label>
                    <input type="date" class="form-control">
                </div>
                <div class="col-md-3">
                    <label class="form-label fw-bold">Time of General Meeting</label>
                    <input type="time" class="form-control">
                </div>
            </div>
        </div>

        <!-- Approval for allotment -->

        <div class="section-heading">Approval for allotment</div>
        <div class="p-3 border mb-4">

            <div class="row mb-3 align-items-center">

                <div class="col-md-6">
                    <label class="form-label fw-bold">Approval Mode</label><br>
                    <label class="ms-2"><input type="radio" name="approvalMode" value="board" checked> In Board meeting</label>
                    <label class="ms-2"><input type="radio" name="approvalMode" value="circular"> By Circular Resolution</label>
                </div>


                <div class="col-md-6 text-end">
                    <span class="text-danger">
                        Quick Hint: The first signatory will be used as the signatory for documents and PAS-3 as well.
                    </span>
                </div>
            </div>

            <div id="approvalBoardSection">
                <div class="row mb-3">
                    <div class="col-md-12">
                        <label class="form-label fw-bold">Do you want to incorporate this agenda in existing Board Meeting ?</label><br>
                        <label class="ms-2"><input type="radio" name="approvalIncorporate" value="yes" checked> Yes</label>
                        <label class="ms-2"><input type="radio" name="approvalIncorporate" value="no"> No</label>
                    </div>
                </div>

                <!-- If YES -->
                <div id="approvalYes" class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label fw-bold">Select Existing Meeting</label>
                        <select class="form-select">
                            <option>Select Meeting</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label fw-bold">Authorized Director</label>
                        <select class="form-select">
                            <option>Select Director</option>
                        </select>
                    </div>
                </div>

                <!-- If NO -->
                <div id="approvalNo" class="row mb-3 d-none">
                    <div class="col-md-3">
                        <label class="form-label fw-bold">Date of Meeting</label>
                        <input type="date" class="form-control">
                    </div>
                    <div class="col-md-3">
                        <label class="form-label fw-bold">Time of Meeting</label>
                        <input type="time" class="form-control">
                    </div>
                    <div class="col-md-3">
                        <label class="form-label fw-bold">Authorized Director</label>
                        <select class="form-select">
                            <option>Select Director</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label fw-bold">Name of Authorized Signatory for Share Certificates</label>
                        <input type="text" class="form-control" placeholder="Enter Name">
                    </div>
                </div>
            </div>

            <!-- Circular Resolution Approval Section -->
            <div id="approvalCircularSection" class="d-none">
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label fw-bold">Date of Passing Circular Resolution</label>
                        <input type="date" class="form-control" value="@DateTime.Now.ToString("yyyy-MM-dd")">
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label fw-bold">Authorized Director</label>
                        <select class="form-select">
                            <option>Select Director</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label fw-bold">Authorized Director</label>
                        <select class="form-select">
                            <option>Select Director</option>
                        </select>
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label fw-bold">Name of Authorized Signatory for Share Certificates</label>
                        <input type="text" class="form-control" placeholder="Enter Name">
                    </div>
                </div>
            </div>
        </div>




        <!-- SECTION: By Circular Resolution -->
        <div id="circularSection" style="display:none;">
            <div class="row mb-3">
                <div class="col-md-3 fw-bold">Date of Passing Circular Resolution</div>
                <div class="col-md-3">
                    <input type="date" class="form-control" name="CircularResolutionDate">
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-3 fw-bold">Authorized Director</div>
                <div class="col-md-3">
                    <select class="form-control" name="AuthorizedDirectorCircular1">
                        <option>Select Director</option>
                    </select>
                </div>

                <div class="col-md-3 fw-bold">Authorized Director</div>
                <div class="col-md-3">
                    <select class="form-control" name="AuthorizedDirectorCircular2">
                        <option>Select Director</option>
                    </select>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-3 fw-bold">Name of Authorized Signatory for Share certificates</div>
                <div class="col-md-9">
                    <input type="text" class="form-control" name="AuthorizedSignatoryCircular">
                </div>
            </div>
        </div>







        <!-- ====================== AGENDA & RESOLUTION ====================== -->
        <h4 class="mb-4 border-bottom pb-2 mt-4">Agenda Details</h4>
        <div class="p-3 border">
            <div class="row mb-3">
                <div class="col-md-3 fw-bold">Agenda</div>
                <div class="col-md-9">
                    <select name="agenda" class="form-control">
                        <option>To approve ESOP scheme</option>
                    </select>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-3 fw-bold">Agenda Heading <span class="text-danger">*</span></div>
                <div class="col-md-9">
                    <input type="text" class="form-control" value="To approve ESOP scheme">
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-3 fw-bold">Minute Heading <span class="text-danger">*</span></div>
                <div class="col-md-9">
                    <input type="text" class="form-control" value="To approve ESOP scheme">
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-3 fw-bold">Agenda Preface</div>
                <div class="col-md-9">
                    <textarea rows="6" class="form-control">
The Board hereby proposes to reclassify the authorized capital of the company as part of our strategic initiative to issue shares and meet our long-term capital requirements. This reclassification necessitates the approval of shareholders via a Special Resolution. Therefore, the Board recommends passing the following resolution...
                    </textarea>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-3 fw-bold">Minute Preface</div>
                <div class="col-md-9">
                    <textarea rows="6" class="form-control">
The Board of Directors convened the meeting to propose the reclassification of the company's authorized capital to issue shares and address long-term capital requirements in the ensuing general meeting...
                    </textarea>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-3 fw-bold">Resolution for Notice</div>
                <div class="col-md-9">
                    <textarea rows="6" class="form-control">[Resolution for Notice text here]</textarea>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-3 fw-bold">Resolution for Minutes</div>
                <div class="col-md-9">
                    <textarea rows="12" class="form-control">[Resolution for Minutes text here]</textarea>
                </div>
            </div>
        </div>

        <!-- ====================== SIGNATORY TABLE ====================== -->
        <div class="section-heading">RESOLUTION SIGNATORY DETAILS</div>
        <div class="p-3 border">
            <table class="table table-bordered table-sm align-middle" id="signatoryTable">
                <thead class="table-light">
                    <tr>
                        <th>Sr. No.</th>
                        <th>Name of Signatory</th>
                        <th>DIN / PAN</th>
                        <th>Date of Signing</th>
                        <th style="width: 80px; text-align:center;">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>
                            <select class="form-select">
                                <option value="">Select Signatory</option>
                                <option>John Doe</option>
                                <option>Jane Smith</option>
                                <option>Michael Johnson</option>
                                <option>Emily Davis</option>
                            </select>
                        </td>
                        <td><input type="text" class="form-control" placeholder="Enter DIN / PAN"></td>
                        <td><input type="date" class="form-control"></td>
                        <td style="text-align:center;">
                            <button type="button" class="btn btn-primary btn-sm" onclick="addSignatoryRow()">+</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ====================== SUBMIT ====================== -->
        <div class="row mt-4">
            <div class="col text-end">
                <button type="submit" class="btn btn-primary px-4 py-2">Submit</button>
            </div>
        </div>
    </form>
</div>



<script>
    $(document).ready(function () {
        $('input[name="FullyPaid"]').change(function () {
            if ($(this).val() === "No") {
                $('#amountPaidRow').show();
            } else {
                $('#amountPaidRow').hide();
                $('#amountPaidRow input').val("");
            }
        });
    });
</script>









<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Toggle Board/Circular sections
        document.querySelectorAll("input[name='approvalMode']").forEach(radio => {
            radio.addEventListener("change", function () {
                document.getElementById("approvalBoardSection").classList.toggle("d-none", this.value !== "board");
                document.getElementById("approvalCircularSection").classList.toggle("d-none", this.value !== "circular");
            });
        });

        // Toggle YES/NO inside Board section
        document.querySelectorAll("input[name='approvalIncorporate']").forEach(radio => {
            radio.addEventListener("change", function () {
                document.getElementById("approvalYes").classList.toggle("d-none", this.value !== "yes");
                document.getElementById("approvalNo").classList.toggle("d-none", this.value !== "no");
            });
        });
    });
</script>
<script>
    (function() {
      const container = document.getElementById('allotteeContainer');
      const addBtn = document.getElementById('addAllotteeBtn');
      let allotteeCount = 0;

      // Add an allottee block
      function addAllottee() {
        allotteeCount++;
        const block = document.createElement('div');
        block.className = 'allotment-block mb-3';
        block.setAttribute('data-id', allotteeCount);

        block.innerHTML = `
          <div class="row mb-1">
            <div class="col-12">
              <span class="allotment-title fw-bold text-decoration-underline">${allotteeCount} Allotment</span>
            </div>
          </div>

          <div class="row align-items-center">
            <div class="col-md-6">
              <select class="form-control" name="ShareholderName${allotteeCount}">
                <option value="">Select Shareholder Name</option>
                <option value="shareholder1">Shareholder 1</option>
                <option value="shareholder2">Shareholder 2</option>
                <option value="shareholder3">Shareholder 3</option>
              </select>
            </div>

            <div class="col-md-3">
              <input type="number" class="form-control" name="Quantity${allotteeCount}" placeholder="Enter Quantity" />
            </div>

            <div class="col-md-2">
              <input type="number" class="form-control" name="LoanAmount${allotteeCount}" placeholder="Loan Amount" />
            </div>

            <div class="col-md-1 text-end">
              <button type="button" class="btn btn-danger btn-sm remove-allottee">X</button>
            </div>
          </div>
        `;

        container.appendChild(block);
      }

      // Re-number titles and input names after add/remove
      function updateAllotteeLabels() {
        const blocks = container.querySelectorAll('.allotment-block');
        allotteeCount = 0;
        blocks.forEach((blk, idx) => {
          const newIndex = idx + 1;
          allotteeCount = newIndex;
          blk.setAttribute('data-id', newIndex);

          // Update title
          const title = blk.querySelector('.allotment-title');
          if (title) title.textContent = `${newIndex} Allotment`;

          // Update form field names
          blk.querySelector('select').setAttribute('name', `ShareholderName${newIndex}`);
          blk.querySelectorAll('input')[0].setAttribute('name', `Quantity${newIndex}`);
          blk.querySelectorAll('input')[1].setAttribute('name', `LoanAmount${newIndex}`);
        });
      }

      // Add button event
      addBtn.addEventListener('click', function (e) {
        e.preventDefault();
        addAllottee();
        updateAllotteeLabels();
      });

      // Remove allottee (event delegation)
      container.addEventListener('click', function (e) {
        if (e.target.classList.contains('remove-allottee')) {
          e.target.closest('.allotment-block').remove();
          updateAllotteeLabels();
        }
      });

      // Submit handler (optional, logs data)
      document.getElementById('submitAllottees').addEventListener('click', function () {
        const data = [];
        const blocks = container.querySelectorAll('.allotment-block');
        blocks.forEach((blk, idx) => {
          const i = idx + 1;
          data.push({
            index: i,
            name: blk.querySelector(`select[name="ShareholderName${i}"]`)?.value || '',
            qty: blk.querySelector(`input[name="Quantity${i}"]`)?.value || '',
            loan: blk.querySelector(`input[name="LoanAmount${i}"]`)?.value || ''
          });
        });
        console.log('Allottees:', data);
      });
    })();
</script>


<script>
    (function () {
        const tableBody = document.getElementById('allotteeTableBody');
        const addRowBtn = document.getElementById('addRowBtn');
        const clearTableBtn = document.getElementById('clearTableBtn');
        let rowCount = 0;

        // Add new row
        function addRow() {
            rowCount++;
            const row = document.createElement('tr');

            row.innerHTML = `
                <td class="text-center">${rowCount}</td>
                <td><input type="text" class="form-control" name="ShareholderName${rowCount}" placeholder="Enter Name"></td>
                <td>
                    <select class="form-select" name="Status${rowCount}">
                        <option value="">Select</option>
                        <option>Active</option>
                        <option>Inactive</option>
                    </select>
                </td>
                <td><input type="text" class="form-control" name="Category${rowCount}" placeholder="Category"></td>
                <td><input type="text" class="form-control" name="SubCategory${rowCount}" placeholder="Sub Category"></td>
                <td><input type="text" class="form-control" name="SubSubCategory${rowCount}" placeholder="Sub Sub Category"></td>
                <td><input type="text" class="form-control" name="NewStatus${rowCount}" placeholder="New Status"></td>
            `;

            tableBody.appendChild(row);
        }

        // Clear all rows
        function clearTable() {
            tableBody.innerHTML = '';
            rowCount = 0;
        }

        // Event listeners
        addRowBtn.addEventListener('click', addRow);
        clearTableBtn.addEventListener('click', clearTable);
    })();
</script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Board Meeting toggle
        document.querySelectorAll("input[name='boardMeetingIncorporate']").forEach(radio => {
            radio.addEventListener("change", function() {
                document.getElementById("boardMeetingYes").classList.toggle("d-none", this.value !== "yes");
                document.getElementById("boardMeetingNo").classList.toggle("d-none", this.value !== "no");
            });
        });

        // General Meeting toggle
        document.querySelectorAll("input[name='generalMeetingIncorporate']").forEach(radio => {
            radio.addEventListener("change", function() {
                document.getElementById("generalMeetingYes").classList.toggle("d-none", this.value !== "yes");
                document.getElementById("generalMeetingNo").classList.toggle("d-none", this.value !== "no");
            });
        });

        // Approval for allotment toggle
        document.querySelectorAll("input[name='approvalIncorporate']").forEach(radio => {
            radio.addEventListener("change", function() {
                document.getElementById("approvalYes").classList.toggle("d-none", this.value !== "yes");
                document.getElementById("approvalNo").classList.toggle("d-none", this.value !== "no");
            });
        });
    });
</script>
