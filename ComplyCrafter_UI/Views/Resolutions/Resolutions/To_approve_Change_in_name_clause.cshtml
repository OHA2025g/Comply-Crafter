@{
    ViewData["Title"] = "Director Appointment Form";
}

<style>
    .custom-table {
        border-collapse: collapse;
        width: 100%;
        margin-bottom: 20px;
        table-layout: fixed;
    }

        .custom-table td, .custom-table th {
            border: 1px solid #ccc;
            padding: 8px;
            vertical-align: middle;
        }

        .custom-table th {
            background: #f8f9fa;
            font-weight: 600;
            text-align: center;
        }

    .form-control, .form-select {
        width: 100%;
        padding: 6px;
        box-sizing: border-box;
    }

    .btn-custom {
        background-color: #2269f5;
        color: #fff;
        border-radius: 6px;
        padding: 6px 16px;
        border: none;
    }

        .btn-custom:hover {
            background-color: #1b56c2;
        }

    .section-heading {
        background: #f8f9fa;
        font-weight: 600;
        text-align: center;
        padding: 6px;
        border: 1px solid #ccc;
        margin-bottom: -1px;
    }
</style>



    <form asp-action="Save" method="post">

        <div class="card shadow-sm p-4">
            <h4 class="text-primary mb-3">Change of Company Name Form</h4>

           

                <!-- Board Meeting Section -->
                <h6 class="section-subheading">Board Meeting for recommending this proposal in General Meeting</h6>

                <div class="p-3 border mb-3">
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <label class="form-label d-block"><strong>Do you want to incorporate this agenda in existing Board Meeting?</strong></label>
                            <label class="me-3"><input type="radio" name="existmeeting" value="Yes" required> Yes</label>
                            <label><input type="radio" name="existmeeting" value="No" required> No</label>
                        </div>
                    </div>

                    <div id="existmeetingyes" class="row mb-3">
                        <div class="col-md-3 fw-bold">Select Existing Meeting</div>
                        <div class="col-md-9">
                            <select class="form-select" name="m_id" id="m_id">
                                <option value="">Select Existing Meeting</option>
                                <option selected value="143245">15/04/2025</option>
                                <option value="94757">30/09/2024</option>
                                <option value="94756">14/08/2024</option>
                                <option value="94755">15/06/2024</option>
                            </select>
                        </div>
                    </div>

                    <div id="existmeetingno" class="row mb-3">
                        <div class="col-md-3 fw-bold">Date of Meeting</div>
                        <div class="col-md-3">
                            <input type="text" class="form-control datepicker" name="meetingdate" id="meetingdate" autocomplete="off">
                        </div>
                        <div class="col-md-3 fw-bold">Time of Meeting</div>
                        <div class="col-md-3">
                            <div class="input-group">
                                <input id="datetimepicker2" type="text" name="timing" class="form-control timing">
                                <span class="input-group-text"><i class="bi bi-clock"></i></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- General Meeting Section -->
                <h6 class="section-subheading">General Meeting for approval of Name change</h6>

                <div class="p-3 border mb-3">
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <label class="form-label d-block"><strong>Type of Meeting?</strong></label>
                            <label class="me-3"><input type="radio" name="whichmeeting" value="AGM" required> AGM</label>
                            <label><input type="radio" name="whichmeeting" value="EGM" required> EGM</label>
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-12">
                            <label class="form-label d-block"><strong>Do you want to incorporate this agenda in existing General Meeting?</strong></label>
                            <label class="me-3"><input type="radio" name="existmeetingagm" value="Yes" required> Yes</label>
                            <label><input type="radio" name="existmeetingagm" value="No" required> No</label>
                        </div>
                    </div>

                    <div id="existagmyes" class="row mb-3">
                        <div class="col-md-3 fw-bold">Select Existing General Meeting</div>
                        <div class="col-md-9">
                            <select class="form-select" name="m_idagm" id="meetingagm">
                                <option value="">Select Existing AGM</option>
                                <option value="26323">30/09/2024</option>
                                <option value="16859">30/09/2023</option>
                                <option value="16390">30/09/2022</option>
                            </select>
                            <select class="form-select mt-2" name="m_idegm" id="meetingegm" style="display:none;">
                                <option value="">Select Existing EGM</option>
                            </select>
                        </div>
                    </div>

                    <div id="existagmno" class="row mb-3">
                        <div class="col-md-3 fw-bold">Date of General Meeting</div>
                        <div class="col-md-3">
                            <input type="text" class="form-control datepicker" name="meetingdateagm" id="meetingdateagm" autocomplete="off">
                        </div>
                        <div class="col-md-3 fw-bold">Time of General Meeting</div>
                        <div class="col-md-3">
                            <div class="input-group">
                                <input id="datetimepicker1" type="text" name="timingagm" class="form-control timing">
                                <span class="input-group-text"><i class="bi bi-clock"></i></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Particulars of Name Change -->
                <h6 class="section-subheading">Particulars of Name Change</h6>

                <div class="p-3 border mb-3">
                    <div class="row mb-3">
                        <div class="col-md-3 fw-bold">Old Name</div>
                        <div class="col-md-3"><input type="text" name="oldcompanyname" id="oldcompanyname" class="form-control" required value="PRIYA EXPRESS PRIVATE LIMITED"></div>
                        <div class="col-md-3 fw-bold">New Name</div>
                        <div class="col-md-3"><input type="text" name="newnameofcompany" id="newnameofcompany" class="form-control" required></div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label fw-bold text-uppercase">Business activity of company</label>
                        <textarea name="businessactivity" id="businessactivity" class="form-control" rows="4"></textarea>
                    </div>

                   





        <h4 class="mb-4 border-bottom pb-2 mt-4">Agenda Details</h4>

        <div class="row mb-3">
            <div class="col-md-3 fw-bold">
                Agenda
            </div>
            <div class="col-md-9">
                <select name="agenda" class="form-control">
                        <option>To approve Change in name clause</option>
                </select>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-3 fw-bold">
                Agenda Heading <span class="text-danger">*</span>
            </div>
            <div class="col-md-9">
                    <input type="text" class="form-control" value="To approve Change in name clause">
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-3 fw-bold">
                Minute Heading <span class="text-danger">*</span>
            </div>
            <div class="col-md-9">
                    <input type="text" class="form-control" value="To approve Change in name clause">
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-3 fw-bold">
                Agenda Preface
            </div>
            <div class="col-md-9">
                <textarea rows="6" class="form-control">
      </textarea>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-3 fw-bold">
                Minute Preface
            </div>
            <div class="col-md-9">
                <textarea rows="6" class="form-control">
</textarea>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-3 fw-bold">
                Resolution for Notice
            </div>
            <div class="col-md-9">
                <textarea rows="6" class="form-control">
</textarea>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-3 fw-bold">
                Resolution for Minutes
            </div>
            <div class="col-md-9">
                <textarea rows="12" class="form-control">
 </textarea>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-3 fw-bold">
                Resolution Signatory Details
            </div>
            <div class="col-md-9">
                <table class="table table-bordered table-sm align-middle" id="signatoryTable">
                    <thead class="table-light">
                        <tr>
                            <th>Sr. No.</th>
                            <th>Name of Signatory</th>
                            <th>DIN / PAN</th>
                            <th>Date of Signing</th>
                            <th style="width: 80px; text-align:center;">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>
                                <select class="form-select">
                                    <option value="">Select Signatory</option>
                                    <option>John Doe</option>
                                    <option>Jane Smith</option>
                                    <option>Michael Johnson</option>
                                    <option>Emily Davis</option>
                                </select>
                            </td>
                            <td>
                                <input type="text" class="form-control" placeholder="Enter DIN / PAN">
                            </td>
                            <td>
                                <input type="date" class="form-control">
                            </td>
                            <td style="text-align:center;">
                                <button type="button" class="btn btn-primary btn-sm" onclick="addSignatoryRow()">+</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row mt-4">
            <div class="col text-end">
                <button type="submit" class="btn btn-primary px-4 py-2">Submit</button>
            </div>
        </div>

    </form>
</div>



@section Scripts {
    <script>
        document.addEventListener("DOMContentLoaded", function () {

            // 🔹 Helper function to toggle visibility
            function toggleSection(radioName, yesId, noId) {
                const radios = document.getElementsByName(radioName);
                const yesSection = document.getElementById(yesId);
                const noSection = document.getElementById(noId);

                function updateVisibility() {
                    const selected = [...radios].find(r => r.checked)?.value;
                    if (selected === "Yes") {
                        yesSection.style.display = "flex";
                        noSection.style.display = "none";
                    } else if (selected === "No") {
                        yesSection.style.display = "none";
                        noSection.style.display = "flex";
                    } else {
                        yesSection.style.display = "none";
                        noSection.style.display = "none";
                    }
                }

                radios.forEach(radio => {
                    radio.addEventListener("change", updateVisibility);
                });

                // Initialize visibility on page load
                updateVisibility();
            }

            // 🔸 Toggle logic for Board Meeting
            toggleSection("existmeeting", "existmeetingyes", "existmeetingno");

            // 🔸 Toggle logic for General Meeting (AGM/EGM)
            toggleSection("existmeetingagm", "existagmyes", "existagmno");

            // 🔹 Handle AGM/EGM dropdown visibility
            const meetingTypeRadios = document.getElementsByName("whichmeeting");
            const agmDropdown = document.getElementById("meetingagm");
            const egmDropdown = document.getElementById("meetingegm");

            function updateMeetingType() {
                const selected = [...meetingTypeRadios].find(r => r.checked)?.value;
                if (selected === "AGM") {
                    agmDropdown.style.display = "block";
                    egmDropdown.style.display = "none";
                } else if (selected === "EGM") {
                    agmDropdown.style.display = "none";
                    egmDropdown.style.display = "block";
                } else {
                    agmDropdown.style.display = "none";
                    egmDropdown.style.display = "none";
                }
            }

            meetingTypeRadios.forEach(radio => {
                radio.addEventListener("change", updateMeetingType);
            });

            // Initialize visibility on load
            updateMeetingType();
        });
    </script>
}